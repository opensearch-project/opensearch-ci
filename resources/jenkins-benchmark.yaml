jenkins:
  log:
    recorders:
      - loggers:
          - level: FINE
            name: org.jenkinsci.plugins.workflow.job.WorkflowRun
        name: workflowRun
  agentProtocols:
    - JNLP4-connect
    - Ping
  authorizationStrategy:
    roleBased:
      roles:
        global:
          - assignments:
              - admin
            name: admin
            pattern: .*
            permissions:
              - Overall/Administer
              - Overall/Read
              - Job/Move
              - Job/Build
              - Job/Read
              - Job/Delete
              - Job/Create
              - Job/Discover
              - Job/Cancel
              - Job/Configure
              - Job Config History/DeleteEntry
              - Job/Workspace
              - Credentials/Delete
              - Credentials/ManageDomains
              - Credentials/Update
              - Credentials/View
              - Credentials/Create
              - Manage ownership/Nodes
              - Manage ownership/Jobs
              - Agent/Configure
              - Agent/Create
              - Agent/Build
              - Agent/Provision
              - Agent/Connect
              - Agent/Delete
              - Agent/Disconnect
              - Run/Replay
              - Run/Delete
              - Run/Update
              - View/Delete
              - View/Read
              - View/Create
              - View/Configure
              - SCM/Tag
          - assignments:
              - anonymous
            name: read
            pattern: .*
            permissions:
              - Overall/Read
              - Job/Read
  crumbIssuer:
    standard:
      excludeClientIPFromCrumb: false
  disableRememberMe: false
  labelAtoms:
    - name: built-in
    - name: main-node
  labelString: main-node
  markupFormatter:
    rawHtml:
      disableSyntaxHighlighting: true
  mode: EXCLUSIVE
  myViewsTabBar: standard
  numExecutors: 4
  primaryView:
    all:
      name: all
  projectNamingStrategy: standard
  quietPeriod: 5
  scmCheckoutRetryCount: 0
  securityRealm:
    oic:
      clientId: clientId
      clientSecret: clientSecret
      authorizationServerUrl: http://localhost
      wellKnownOpenIDConfigurationUrl: wellKnownOpenIDConfigurationUrl
      tokenServerUrl: tokenServerUrl
      userInfoServerUrl: userInfoServerUrl
      disableSslVerification: false
      userNameField: sub
      escapeHatchEnabled: false
      logoutFromOpenidProvider: true
      postLogoutRedirectUrl: ''
      scopes: openid
      escapeHatchSecret: random
  slaveAgentPort: 50000
  updateCenter:
    sites:
      - id: default
        url: https://updates.jenkins.io/update-center.json
  views:
    - all:
        name: all
  viewsTabBar: standard
  clouds:
    - amazonEC2:
        cloudName: Amazon_ec2_cloud
        region: ${Token[AWS.Region.13]}
        sshKeysCredentialsId: ${Token[Fn::Join.636]}
        templates:
          - ami: ${Token[TOKEN.556]}
            amiType:
              unixData:
                sshPort: '22'
            associatePublicIp: false
            connectBySSHProcess: false
            connectionStrategy: PRIVATE_IP
            customDeviceMapping: /dev/xvda=:300:true:::encrypted
            deleteRootOnTermination: true
            description: jenkinsAgentNode-Jenkins-Default-Agent-X64-C5xlarge-Single-Host
            ebsEncryptRootVolume: ENCRYPTED
            ebsOptimized: false
            metadataTokensRequired: true
            metadataHopsLimit: '2'
            hostKeyVerificationStrategy: 'OFF'
            iamInstanceProfile: ${Token[TOKEN.635]}
            idleTerminationMinutes: '60'
            initScript: >-
              sudo amazon-linux-extras install java-openjdk11 -y && sudo yum
              install -y cmake python3 python3-pip && sudo yum groupinstall -y
              'Development Tools' && sudo ln -sfn `which pip3` /usr/bin/pip &&
              pip3 install pipenv && sudo ln -s ~/.local/bin/pipenv
              /usr/local/bin
            labelString: Jenkins-Default-Agent-X64-C5xlarge-Single-Host
            launchTimeoutStr: '300'
            maxTotalUses: -1
            minimumNumberOfInstances: 0
            minimumNumberOfSpareInstances: 1
            mode: EXCLUSIVE
            monitoring: true
            numExecutors: 1
            remoteAdmin: ec2-user
            remoteFS: /home/ec2-user
            securityGroups: ${Token[TOKEN.520]}
            stopOnTerminate: false
            subnetId: ${Token[TOKEN.491]}
            t2Unlimited: false
            tags:
              - name: Name
                value: >-
                  TestStack/AgentNode/Jenkins-Default-Agent-X64-C5xlarge-Single-Host
              - name: type
                value: >-
                  jenkinsAgentNode-Jenkins-Default-Agent-X64-C5xlarge-Single-Host
            tenancy: Default
            type: C54xlarge
            nodeProperties:
              - envVars:
                  env:
                    - key: JENKINS_HOME_PATH
                      value: /home/ec2-user
                    - key: JAVA8_HOME
                      value: /usr/lib/jvm/temurin-8-jdk-amd64
                    - key: JAVA11_HOME
                      value: /usr/lib/jvm/temurin-11-jdk-amd64
                    - key: JAVA14_HOME
                      value: /usr/lib/jvm/adoptopenjdk-14-amd64
                    - key: JAVA17_HOME
                      value: /usr/lib/jvm/temurin-17-jdk-amd64
                    - key: JAVA19_HOME
                      value: /usr/lib/jvm/temurin-19-jdk-amd64
                    - key: JAVA20_HOME
                      value: /usr/lib/jvm/temurin-20-jdk-amd64
                    - key: JAVA21_HOME
                      value: /usr/lib/jvm/temurin-21-jdk-amd64
            useEphemeralDevices: false
          - ami: ${Token[TOKEN.559]}
            amiType:
              unixData:
                sshPort: '22'
            associatePublicIp: false
            connectBySSHProcess: false
            connectionStrategy: PRIVATE_IP
            customDeviceMapping: /dev/xvda=:300:true:::encrypted
            deleteRootOnTermination: true
            description: jenkinsAgentNode-Jenkins-Default-Agent-ARM64-C5xlarge-Single-Host
            ebsEncryptRootVolume: ENCRYPTED
            ebsOptimized: false
            metadataTokensRequired: true
            metadataHopsLimit: '2'
            hostKeyVerificationStrategy: 'OFF'
            iamInstanceProfile: ${Token[TOKEN.635]}
            idleTerminationMinutes: '60'
            initScript: >-
              sudo amazon-linux-extras install java-openjdk11 -y && sudo yum
              install -y cmake python3 python3-pip && sudo yum groupinstall -y
              'Development Tools' && sudo ln -sfn `which pip3` /usr/bin/pip &&
              pip3 install pipenv && sudo ln -s ~/.local/bin/pipenv
              /usr/local/bin
            labelString: Jenkins-Default-Agent-ARM64-C5xlarge-Single-Host
            launchTimeoutStr: '300'
            maxTotalUses: -1
            minimumNumberOfInstances: 0
            minimumNumberOfSpareInstances: 1
            mode: EXCLUSIVE
            monitoring: true
            numExecutors: 1
            remoteAdmin: ec2-user
            remoteFS: /home/ec2-user
            securityGroups: ${Token[TOKEN.520]}
            stopOnTerminate: false
            subnetId: ${Token[TOKEN.491]}
            t2Unlimited: false
            tags:
              - name: Name
                value: >-
                  TestStack/AgentNode/Jenkins-Default-Agent-ARM64-C5xlarge-Single-Host
              - name: type
                value: >-
                  jenkinsAgentNode-Jenkins-Default-Agent-ARM64-C5xlarge-Single-Host
            tenancy: Default
            type: C6g4xlarge
            nodeProperties:
              - envVars:
                  env:
                    - key: JENKINS_HOME_PATH
                      value: /home/ec2-user
                    - key: JAVA8_HOME
                      value: /usr/lib/jvm/temurin-8-jdk-amd64
                    - key: JAVA11_HOME
                      value: /usr/lib/jvm/temurin-11-jdk-amd64
                    - key: JAVA14_HOME
                      value: /usr/lib/jvm/adoptopenjdk-14-amd64
                    - key: JAVA17_HOME
                      value: /usr/lib/jvm/temurin-17-jdk-amd64
                    - key: JAVA19_HOME
                      value: /usr/lib/jvm/temurin-19-jdk-amd64
                    - key: JAVA20_HOME
                      value: /usr/lib/jvm/temurin-20-jdk-amd64
                    - key: JAVA21_HOME
                      value: /usr/lib/jvm/temurin-21-jdk-amd64
            useEphemeralDevices: false
        useInstanceProfileForCredentials: true
globalCredentialsConfiguration:
  configuration:
    providerFilter: none
    typeFilter: none
security:
  apiToken:
    creationOfLegacyTokenEnabled: false
    tokenGenerationOnCreationEnabled: false
    usageStatisticsEnabled: true
  copyartifact:
    mode: PRODUCTION
  globalJobDslSecurityConfiguration:
    useScriptSecurity: true
  sSHD:
    port: -1
unclassified:
  audit-trail:
    logBuildCause: true
    pattern: >-
      .*/(?:configSubmit|doDelete|postBuildResult|enable|disable|cancelQueue|stop|toggleLogKeep|doWipeOutWorkspace|createItem|createView|toggleOffline|cancelQuietDown|quietDown|restart|exit|safeExit)/?.*
  awsCredentialsProvider:
    cache: false
    client:
      credentialsProvider: default
  buildDiscarders:
    configuredBuildDiscarders:
      - jobBuildDiscarder
  buildStepOperation:
    enabled: false
  buildTimestamp:
    enableBuildTimestamp: true
    pattern: yyyy-MM-dd HH:mm:ss z
    timezone: Etc/UTC
  descriptionSetterWrapper:
    disableTokens: false
  email-ext:
    adminRequiredForTemplateTesting: false
    allowUnregisteredEnabled: false
    charset: UTF-8
    debugMode: false
    defaultBody: |-
      $PROJECT_NAME - Build # $BUILD_NUMBER - $BUILD_STATUS:

      Check console output at $BUILD_URL to view the results.
    defaultSubject: '$PROJECT_NAME - Build # $BUILD_NUMBER - $BUILD_STATUS!'
    defaultTriggerIds:
      - hudson.plugins.emailext.plugins.trigger.FailureTrigger
    maxAttachmentSize: -1
    maxAttachmentSizeMb: -1
    precedenceBulk: false
    watchingEnabled: false
  fingerprints:
    fingerprintCleanupDisabled: false
    storage: file
  ghprbTrigger:
    autoCloseFailedPullRequests: false
    cron: H/5 * * * *
    extensions:
      - ghprbSimpleStatus:
          addTestResults: false
          showMatrixStatus: false
    githubAuth:
      - description: Anonymous connection
        id: d4456c70-9c5e-4b40-bee4-e1ebb693153b
        serverAPIUrl: https://api.github.com
    manageWebhooks: true
    okToTestPhrase: .*ok\W+to\W+test.*
    retestPhrase: .*test\W+this\W+please.*
    skipBuildPhrase: .*\[skip\W+ci\].*
    useComments: false
    useDetailedComments: false
    whitelistPhrase: .*add\W+to\W+whitelist.*
  gitHubConfiguration:
    apiRateLimitChecker: ThrottleForNormalize
  gitHubPluginConfig:
    hookUrl: http://localhost:8080/github-webhook/
  gitSCM:
    addGitTagAction: false
    allowSecondFetch: false
    createAccountBasedOnEmail: false
    disableGitToolChooser: false
    hideCredentials: false
    showEntireCommitSummaryInChanges: false
    useExistingAccountWithSameEmail: false
  ivyBuildTrigger:
    extendedVersionMatching: false
  junitTestResultStorage:
    storage: file
  location:
    adminAddress: address not configured yet <nobody@nowhere>
  login-theme-plugin:
    useDefaultTheme: true
  mailer:
    charset: UTF-8
    useSsl: false
    useTls: false
  pluginImpl:
    enableCredentialsFromNode: false
  pollSCM:
    pollingThreadCount: 10
  timestamper:
    allPipelines: false
    elapsedTimeFormat: '''<b>''HH:mm:ss.S''</b> '''
    systemTimeFormat: '''<b>''HH:mm:ss''</b> '''
  upstream:
    globalUpstreamFilterStrategy: UseOldest
  whitelist:
    enabled: false
tool:
  git:
    installations:
      - home: git
        name: Default
  jdk:
    installations:
      - name: openjdk-8
        properties:
          - installSource:
              installers:
                - adoptOpenJdkInstaller:
                    id: jdk8u332-b09
      - name: openjdk-11
        properties:
          - installSource:
              installers:
                - adoptOpenJdkInstaller:
                    id: jdk-11.0.15+10
      - name: openjdk-17
        properties:
          - installSource:
              installers:
                - adoptOpenJdkInstaller:
                    id: jdk-17.0.3+7
      - name: openjdk-19
        properties:
          - installSource:
              installers:
                - adoptOpenJdkInstaller:
                    id: jdk-19.0.1+10
      - name: openjdk-20
        properties:
          - installSource:
              installers:
                - adoptOpenJdkInstaller:
                    id: jdk-20.0.1+9
      - name: openjdk-21
        properties:
          - installSource:
              installers:
                - adoptOpenJdkInstaller:
                    id: jdk-21.0.1+12
  mavenGlobalConfig:
    globalSettingsProvider: standard
    settingsProvider: standard
  powerShellInstallation:
    installations:
      - home: powershell.exe
        name: DefaultWindows
      - home: pwsh
        name: DefaultLinux
support:
  automatedBundleConfiguration:
    componentIds:
      - AgentsConfigFile
      - ConfigFileComponent
      - OtherConfigFilesComponent
      - AboutBrowser
      - AboutJenkins
      - AboutUser
      - AdministrativeMonitors
      - AgentProtocols
      - BuildQueue
      - CustomLogs
      - DumpExportTable
      - EnvironmentVariables
      - FileDescriptorLimit
      - GCLogs
      - HeapUsageHistogram
      - ItemsContent
      - AgentsJVMProcessSystemMetricsContents
      - MasterJVMProcessSystemMetricsContents
      - JenkinsLogs
      - LoadStats
      - LoggerManager
      - Metrics
      - NetworkInterfaces
      - NodeMonitors
      - OtherLogs
      - ReverseProxy
      - RootCAs
      - RunningBuilds
      - SlaveCommandStatistics
      - SlaveLaunchLogs
      - SlaveLogs
      - AgentsSystemConfiguration
      - MasterSystemConfiguration
      - SystemProperties
      - TaskLogs
      - ThreadDumps
      - UpdateCenter
      - UserCount
      - SlowRequestComponent
      - HighLoadComponent
      - DeadlockRequestComponent
      - PipelineTimings
      - PipelineThreadDump
    enabled: true
    period: 1
